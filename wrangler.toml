# 核心配置：匹配 CI 期望的 Worker 名称，解决之前的名称不匹配警告
name = "stockweb-new"
# 必填：兼容性日期（与你之前的配置一致，无需修改）
compatibility_date = "2025-11-24"
main = "./src/index.ts"


# 静态资产配置（托管 public 目录下的文件，必填）
[site]
bucket = "./public"  # 静态文件目录（index.html、assets 在这里）

# 环境变量（前端可通过 import.meta.env 访问，如后端 API 地址）
[vars]
NODE_ENV = "production"
VITE_API_URL = "https://apistock-1hgl.onrender.com"
VITE_Web_Trader_UUID = "89301106-8b3f-4201-be20-d345df18a030"

[assets]
directory = "./dist/"
not_found_handling = "single-page-application"
binding = "ASSETS"
run_worker_first = [ "/api/*", "!/api/docs/*" ]